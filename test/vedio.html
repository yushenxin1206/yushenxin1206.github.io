<!DOCTYPE html>
<html>
<head>
<title>normal template</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0,viewport-fit=cover">
<style type="text/css">
*{margin:0;padding:0;}
	
/*隐藏下载控件*/
video::-internal-media-controls-download-button { display:none;}
video::-webkit-media-controls-enclosure{ overflow: hidden; }
video::-webkit-media-controls-panel{ width: calc(100% + 32px);}
	
/*横竖屏*/
@media screen and (orientation : portrait){
	/*竖屏*/
}
@media screen and (orientation : landscape){

}
	
body{
	padding: 0 16px;
}
@font-face{
    font-family: '';
    src : url('../fonts/yaheiconsolashybrid.ttf');
}
.s1{
	font-family: Arail; /* 字体 */
	font-size:; 14px/* 文字大小 */
	color: #ccc;/*文字颜色*/
	text-align: center; /*文字对齐样式 居中：center 左对齐：left 右对齐：right*/
	line-height: 1;/*行间距*/
}

/*设置图片模块*/
.img-md{
	max-width: 100%;
	white-space: nowrap;
	overflow-x: scroll;
}
.img-md div{
	display: inline-block;
	max-width: 100%;
	text-align: center;
}
.img-md img{
	max-width: 100%;
	margin: 0 auto;
}
.more-img{
	color: #999;
	font-size: 12px;
	text-align: center;
	margin-bottom: 40px;
}
	
/*视频模块*/
.video-session{
	position: relative;
	display: flex;
	max-width: 100%;
	align-content: center;
	align-items: center;
}
video{
	display: block;
	max-width: 100%;
	transition: all 1s;
}

.fs{
	position: fixed;
	top: 0;left: 0;right: 0;bottom: 0;
	background: #000;
}


.full-screen{
	position: absolute;
	bottom: 10px;
	right: 22px;
	width: 32px;
	height: 32px;
	background: #FAFAFA url(./fullScreen.svg) 0 0 / 100% 100% no-reapert;
}

h2,p{text-align: center; margin: 20px 0;}

</style>
<script type="text/javascript" src="./jquery-3.3.1.min.js"></script>
</head>

<body>

<h2 class="">视频1</h2>
<p class="">正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文</p>
<div class="video-session">
	<video src="http://lfmemberdev.hwcloudtest.cn:9094/files/httpserver/MODEL/EMUI/C00B050TEMP/resource/card/20180820150724/image/video/1-10044802_f003_Gesture%20Navigation.mp4" controls="controls"">您的浏览器不支持 video 标签</video>
	<a class="full-screen">全屏</a>
</div>
	

<h2 class="">视频2</h2>
<p class="">正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文</p>
<video src="http://lfmemberdev.hwcloudtest.cn:9094/files/httpserver/MODEL/EMUI/C00B050TEMP/resource/card/20180820150724/image/video/1-10045865_f002_Slipt%20Screen.mp4" controls="controls">您的浏览器不支持 video 标签</video>



<h2 class="">视频3</h2>
<p class="">正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文正文</p>
<video x-webkit-airplay="true" playsinline="true" x5-playsinline="true" webkit-playsinline="true" src="http://lfmemberdev.hwcloudtest.cn:9094/files/httpserver/MODEL/EMUI/C00B050TEMP/resource/card/20180820150724/image/video/1-10045865_f002_Slipt%20Screen.mp4">您的浏览器不支持 video 标签</video>

<script>
	
	$(function(){
		alert("1");
		var pVideo;
		var mOrientation;
		var $video = $("video");
		
		/*初始化横竖屏值*/
		getOrientation();
				      
		/*
		* 设置同时只有一个视频处于播放状态
		*/
		$video.on('play',function(){
			pVideo = this;
			for(var i=0;i<$video.length;i++){
				if(this != $video[i]){
					$video[i].pause();
				}
			}
		});
		
		$video.click(function(){this.play()});
		
		/*不在屏幕范围内的视频停止播放*/
		window.addEventListener('scroll', function () {
			if(pVideo){

				if($(pVideo).offset()["top"]<$(window).scrollTop()-$(pVideo).height()){
					pVideo.pause();
				}
				
				if($(pVideo).offset()["top"] - $(window).scrollTop()- window.innerHeight >0){
					pVideo.pause();
				}
				
			}
		});
		
		/*竖屏状态旋转90度 横屏状态不旋转*/
		var $fsVideo;
		$(".full-screen").click(function(){
			
			var $video = $(this).parent().find("video").eq(0);
			$fsVideo = $video;
			//alert(video);
			//alert(window.orientation);
			$video.parent().addClass("fs");
			
		});
								 
		/*判断横竖屏状态*/
		function getOrientation(){
			if(window.orientation==180||window.orientation==0){
				mOrientation = 0;
			}
			if(window.orientation==90||window.orientation==-90){
				mOrientation = 1;
			}
		}
		/*设置video状态*/
		function setVideoOrientation(){
			getOrientation();
			if(!$fsVideo){return false;}
			if(mOrientation){
				$fsVideo.width("100vw");		     
			}else{
				$fsVideo.width("100vh");		     
			}
		}
		window.addEventListener("onorientationchange" in window ? "orientationchange" : "resize", setVideoOrientation, false);
	});
	
</script>
</body>

</html>
